# MQTT Topics Database Schema

# $SYS Metrics Table - stores broker statistics for MQTT $SYS topics
# Exported as MQTT topics so clients can subscribe to $SYS/broker/*
type mqtt_sys_metrics @table @export(name: "$SYS") {
  id: String @primaryKey
  topic: String @indexed
  value: String
  timestamp: String
}

# Note: Additional topic tables (mqtt_home, mqtt_sensors, etc.) are created dynamically
# by the plugin when new MQTT topics are subscribed to.
